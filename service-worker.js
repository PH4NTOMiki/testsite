var version="worker_1.0.7",filesToCache=["/","/offline/","/favicon.ico"],coreID=version+"_core",pageID=version+"_pages",imgID=version+"_img",cacheIDs=[coreID,pageID,imgID],trimCache=function(e,n){caches.open(e).then((function(n){n.keys().then((function(t){n.delete(t[0]).then((function(){trimCache(e)}))}))}))};self.addEventListener("install",(function(e){self.skipWaiting(),e.waitUntil(caches.open(coreID).then((function(e){return filesToCache.forEach((function(n){e.add(new Request(n))})),e})))})),self.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then((function(e){return Promise.all(e.filter((function(e){return!cacheIDs.includes(e)})).map((function(e){return caches.delete(e)})))})).then((function(){return self.clients.claim()})))})),self.addEventListener("fetch",(function(e){const n=e.request;if("only-if-cached"===n.cache&&"same-origin"!==n.mode)return;if("GET"!==n.method)return;if(!n.url.startsWith("https://")&&!n.url.startsWith("http://"))return;if(["wp-admin","wp-login"].includes(location.href.split("?")[0].split(".php")[0].split("/").slice(3)[0]))return;const t=n.headers.get("Accept").toLowerCase();t.includes("text/html")||t.includes("/css")||t.includes("/javascript")||n.url.endsWith("/")||n.url.toLowerCase().split("?")[0].endsWith(".js")||n.url.toLowerCase().split("?")[0].endsWith(".css")?e.respondWith(fetch(n).then((function(t){if("opaque"!==t.type){var i=t.clone(),c=t.clone();e.waitUntil(caches.open(pageID).then((function(e){return e.put(n,i)})).then((function(){const e=new URL(t.url);return location.origin===e.origin&&filesToCache.includes(e.pathname)?caches.open(coreID).then((function(e){return e.put(n,c)})):Promise.resolve()})))}return t})).catch((function(e){return caches.match(n).then((function(e){return e||(t.includes("/css")||t.includes("/javascript")?new Response("",{status:500,statusText:"offline"}):caches.match("/offline/"))}))}))):(t.includes("image")||t.includes("font/")||["fonts.googleapis.com","fonts.gstatic.com"].includes(n.url.split("/")[2])||n.url.toLowerCase().includes("fontawesome"))&&e.respondWith(caches.match(n).then((function(t){return t||fetch(n).then((function(t){var i=t.clone(),c=t.clone();return e.waitUntil(caches.open(imgID).then((function(e){return e.put(n,i)})).then((function(){const e=new URL(t.url);return location.origin===e.origin&&filesToCache.includes(e.pathname)?caches.open(coreID).then((function(e){return e.put(n,c)})):Promise.resolve()}))),t}))})))})),self.addEventListener("message",(function(e){"cleanUp"===e.data&&(trimCache(pageID),trimCache(imgID))}));